---
title: min-maxå®¹æ–¥
date: 2025-03-28
tags: [min_max,å®¹æ–¥åŸç†]
category: [algorithm]
mathjax: true
---

## åŸºç¡€

- å‰ç½®å†…å®¹
  - å®¹æ–¥åŸç†
  - å…¨åº

å®šç†: å¯¹äºæ»¡è¶³ å…¨åº å…³ç³»å¹¶ä¸”å…¶ä¸­å…ƒç´ æ»¡è¶³å¯åŠ å‡æ€§çš„åºåˆ— $\lbrace x_i \rbrace$ï¼Œè®¾å…¶é•¿åº¦ä¸º nï¼Œå¹¶è®¾$S=\lbrace 1,2,3,\cdots,n \rbrace$ï¼Œåˆ™æœ‰ï¼š
- $\max_{i\in S}{x_i}=\sum_{T\subseteq S}{(-1)^{|T|-1}\min_{j\in T}{x_j}}$
- $\min_{i\in S}{x_i}=\sum_{T\subseteq S}{(-1)^{|T|-1}\max_{j\in T}{x_j}}$

## è¯æ˜

- æˆ‘ä»¬éœ€è¦é›†åˆæ»¡è¶³
  - å…¨åº: ä»»æ„ä¸¤ä¸ªåŸºç¡€å…ƒç´ å¯æ¯”è¾ƒå¤§å°
  - éœ€è¦é›¶å…ƒç´ 
  - ç„¶åæ¯ä¸ªå…ƒç´ æœ‰é€†å…ƒï¼Œè¿™é‡Œ(-1)ä¹˜æ³•è¡¨ç¤ºå–é€†å…ƒ
  - ä¸éœ€è¦å¯åŠ ï¼Œè¿™é‡Œçš„åŠ å·åªæ˜¯æŠŠä¸åŒçš„è¿åœ¨ä¸€èµ·
- ä¾‹å­ {ğŸŸ,ğŸ”,ğŸŒ­}
  - å…¨åº ğŸŸ < ğŸ” < ğŸŒ­
  - é›¶å…ƒ 0+(ğŸŸ)=ğŸŸ
  - é€†å…ƒ (ğŸŸ)+(-ğŸŸ)=0

$ğŸŒ­ =\max (\lbraceğŸŸ,ğŸ”,ğŸŒ­ \rbrace)$

$= \sum_{T\subset S} (-1)^{|T|-1} \min(T)$

$= (-1)^{1-1}\min(\lbraceğŸŸ \rbrace)+(-1)^{1-1}\min(\lbrace ğŸ” \rbrace)+(-1)^{1-1}\min(\lbrace ğŸŒ­ \rbrace)  + (-1)^{2-1}\min(\lbrace ğŸŸ,ğŸ”  \rbrace)+(-1)^{2-1}\min(\lbrace ğŸ”, ğŸŒ­ \rbrace)+(-1)^{2-1}\min(\lbrace ğŸŒ­,ğŸŸ \rbrace)+(-1)^{3-1}\min(\lbrace ğŸŸ,ğŸ”,ğŸŒ­ \rbrace)$

$=ğŸŸ+ğŸ”+ğŸŒ­+(-ğŸŸ)+(-ğŸ”)+(-ğŸŸ)+ğŸŸ$

$=ğŸŒ­$

--- 

ç®€å•çš„é€»è¾‘è¯æ˜ï¼Œå«æœ‰æœ€å¤§å…ƒå’Œæœªå«æœ‰æœ€å°å…ƒçš„äº§ç”Ÿ1-1 å¯¹åº”çš„å…³ç³»ï¼Œå…¶ä¸­(ç©ºé›†)å’Œ(åªå«æœ‰æœ€å¤§å…ƒ)çš„1-1å¯¹åº”
- é‚£ä¹ˆ è¿™ä¸ª1-1å¯¹åº”å¯¼è‡´äº†ä¸€ä¸ªä»–ä»¬çš„minç›¸åŒï¼Œè€Œ(-1)å¹‚æ¬¡ä¸€ä¸ªå¥‡ä¸€ä¸ªå¶ï¼Œæ‰€ä»¥éƒ½æŠµæ¶ˆäº†
- æ‰€ä»¥åªå‰©ä¸‹ åªå«æœ‰æœ€å¤§å…ƒçš„



## ç”¨ä¾‹

é¦–å…ˆè¿™ä¸ªç©æ„å¾ˆç›´æ¥ï¼Œå‡ ä¹ä¸ä¼šç›´æ¥ä½¿ç”¨

ç„¶è€Œ åœ¨æ¦‚ç‡è®ºä¸­è®¡ç®—æœŸæœ›ä¼šç”¨åˆ°ï¼Œ

$E(\max_{i\in S}x_i)=\sum_{T\subset S}(-1)^{|T|-1} E(\min_{j\in T} x_j)$ 

$E(\min_{i\in S}x_i)=\sum_{T\subset S}(-1)^{|T|-1} E(\max_{j\in T} x_j)$ 

ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œ$x_i$æ›´å¤šæ˜¯å…¶ä¸­ä¸€ä¸ªè‡ªç”±å˜é‡ï¼Œæœ‰æ—¶å†™ä½œ$X_i$
- è¯æ˜: å…¶å®ä¸€å¥è¯ï¼ŒEæ˜¯ çº¿æ€§å‡½æ•°

## è¿›ä¸€æ­¥çš„ k-th min/max

$\text{k-th} \max_{i\in S} x_i =\sum_{T\subset S,|T|\ge k} (-1)^{|T|-k} \binom{|T|-1}{k-1}\min_{j\in T} x_j$
- è¯æ˜: å…¶å®ç±»ä¼¼çš„, è®°ç»“æœä¸ºğŸ˜º, æˆ‘ä»¬å›ºå®š$\min$ æ¥çœ‹æŠµæ¶ˆ
  - $\min =$ğŸ˜º æ—¶ï¼Œé‚£ä¹ˆåªèƒ½é€‰æœ€å¤§kä¸ª, é‚£ä¹ˆå°±æ˜¯$(-1)^{k-k}\binom{k-1}{k-1} ğŸ˜º=ğŸ˜º$
  - $\min < ğŸ˜º$ æ—¶ å¸Œæœ›è¯æ˜ $\sum_{t=k}^{n+1} \binom{n}{t-1} (-1)^{t-k}\binom{t-1}{k-1} =0, n \ge t-1 \ge k-1 \ge 0$
    - nè¡¨ç¤º æ¯”ğŸ˜º å¤§çš„ä¸ªæ•°
    - åœ¨å…¶ä¸­é€‰äº†t-1ä¸ªï¼ˆåŠ ä¸ŠğŸ˜ºå°±æ˜¯tä¸ªï¼‰ 
    - è¿™ç§æƒ…å†µä¸‹çš„è´¡çŒ® å°±æ˜¯åä¸€åŠ
    - ä¸ºäº†ç®€æ´ï¼Œç”¨$t_{new}=t-1,k_{new}=k-1$æ›¿æ¢
    - å¸Œæœ›è¯æ˜ $\sum_{t=k}^n \binom{n}{t} (-1)^{t-k}\binom{t}{k} =0,n \ge t \ge k \ge 0, n > k$
    - $=\sum_t (-1)^{t-k}\frac{n!}{(t)!(n-t)!}\frac{(t)!}{(k)!(t-k)!}$
    - $=\sum_t (-1)^{t-k}\frac{n!}{(k)!(n-k)!}\frac{(n-k)!}{(n-t)!(t-k)!}$
    - $=\sum_t (-1)^{t-k} \binom{n}{k} \binom{n-k}{t-k}$
    - $=\binom{n}{k} \sum_t (-1)^{t-k}  \binom{n-k}{t-k}$
    - $=\binom{n}{k} \sum_{s=t-k=0}^{n-k} (-1)^{s}  \binom{n-k}{s}$
    - $=\binom{n}{k} (1-1)^{n-k}$
    - $=0$


ç±»ä¼¼çš„ï¼Œæ ¹æ®Eçš„çº¿æ€§çš„æ€§è´¨ï¼Œæœ‰æœŸæœ›çš„å½¢å¼

## ä¾‹é¢˜

[2022-03 2835åˆ† abc242H](https://atcoder.jp/contests/abc242/tasks/abc242_h)
- åŒºé—´$[1,n]$,$n\le 400$
- mä¸ªå­åŒºé—´$[l_i,r_i]$,$m \le 400$
- æ¯æ¬¡ 1/m æ¦‚ç‡é€‰æ‹©ä¸€ä¸ªåŒºé—´ æ¶‚é»‘
- é—®å…¨éƒ¨åŒºé—´éƒ½æ¶‚é»‘çš„ æœŸæœ›æ—¶é—´
- $t_i=$ç¬¬iä¸ªé¦–æ¬¡è¢«æ¶‚é»‘çš„æ—¶é—´
- $E(\min T)=$ é›†åˆTä¸­,ä»»ä½•ä¸€ä¸ªé¦–æ¬¡è¢«æ¶‚é»‘çš„æ—¶é—´
- $E(\max T)=$ é›†åˆTä¸­,å…¨éƒ¨è¢«æ¶‚é»‘çš„æœŸæœ›æ—¶é—´
- é…åˆ$dp[i][j]=$å‰iä¸ª,ç¬¬iä¸ªè¢«é€‰ä¸­,jä¸ªè¦†ç›–äº†å·²é€‰é›†åˆçš„ åŠ æƒå’Œ å¯åš

[2022-06 3500åˆ† cf(1687/R796)E](https://codeforces.com/contest/1687/problem/E)

[2023-12 2668åˆ† abc331G](https://atcoder.jp/contests/abc331/tasks/abc331_g)
- ç›’å­é‡Œæœ‰ å†™ç€içš„å¡ç‰‡æœ‰$C_i$å¼ , $1\le i \le n \le 2e5$
- æ¯æ¬¡ æŠ½å‡ºä¸€å¼  è®°å½•æ•°å­—, æ”¾å›ç›’å­
- é—® æœŸæœ›æ¬¡æ•° 1~nå…¨è‡³å°‘å‡ºç°ä¸€æ¬¡
- $t_i=$æ•°å­—ié¦–æ¬¡æŠ½åˆ°çš„æ—¶é—´
- $E(\min T)=$ é›†åˆTä¸­,ä»»ä½•ä¸€ä¸ªé¦–æ¬¡æŠ½åˆ°
- $E(\max T)=$ é›†åˆTä¸­,å…¨éƒ¨è¢«æŠ½è¿‡ä¸€æ¬¡çš„æœŸæœ›æ—¶é—´
- $\displaystyle \mathrm{ans}=\sum_{T\subset S} (-1)^{|T|+1} \frac{N}{\sum_{i\in T}C_i}$
  - åŒæ · åˆ†ç±»è®¨è®º$\min$ä¹Ÿå°±æ˜¯å³ä¾§ï¼Œç„¶åå»æƒ³åŠæ³•ç®—å·¦ä¾§-1å¹‚æ¬¡çš„åŠ æƒå’Œ
  - è€Œå·¦ä¾§ æŠŠTå±•å¼€ï¼Œå°±æ˜¯ ç”Ÿæˆå‡½æ•°ç³»æ•°
  - $\displaystyle -(1-x^{sz_1})(1-x^{sz_2})\cdots(1-x^{sz_m})$çš„ç³»æ•°ï¼Œå°±æ˜¯è¦æ±‚çš„å†…å®¹, ä¸€ç‚¹polyæŠ€å·§å³å¯

## ref 

[oiwiki å®¹æ–¥åŸç† min_max](https://oi-wiki.org/math/combinatorics/inclusion-exclusion-principle/#min-max-%E5%AE%B9%E6%96%A5)

algo/åæ¼” é‡Œé¢æœ‰æåˆ° min_max å®¹æ–¥